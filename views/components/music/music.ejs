<% layout('../../layout') -%>

<main class="music">
    <section class="container">
        <h2 class="h2--section h2">Список треков:</h2>
    </section>
    <section class="music__list">

        <%data.data.forEach((track, index) => {%>
        <div class="track__wrap">

            <div class="track">
                <audio class="hidden audio index-<%=index%>" data-title="<%=`${track.authors} - ${track.title}`%>">
                    <source src="/public/music/<%=track.track%>" type="audio/mpeg">
                </audio>
                <img class="track__cover" src="/images/track/<%=track.image.url%>">
                <div class="track__info">
                    <%if (track.image.autor) {%>
                        <p class="track__text">
                            <%=`Обложка - ${track.image.autor}`%>
                        </p>
                    <%}%>
                </div>
                <div class="track__player player">
                    <div class="player__replay">
                        <%-partial('../../../public/svg/audio/replay')%>
                    </div>
                    <div class="player__action">
                        <div class="player__play">
                            <%-partial('../../../public/svg/audio/play', {active: true})%>
                        </div>
                        <div class="player__pause">
                            <%-partial('../../../public/svg/audio/pause', {active: false})%>
                        </div>
                    </div>
                    <div class="player__download">
                        <%-partial('../../../public/svg/audio/download')%>
                    </div>
                </div>
            </div>

            <div class="track__signature">
                <%=`${track.authors} - ${track.title}`%>
            </div>
        </div>
        <%})%>

    </section>
</main>